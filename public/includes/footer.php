    <!-- Page footer -->
  <footer class="footer bg-body border-top pt-5" data-bs-theme="dark">
    <div class="container pt-sm-2 pt-md-3 pt-lg-4">
      <div class="accordion row pb-5 mb-sm-2 mb-md-3 mb-lg-4" id="footerLinks">

        <!-- Logo + Contacts -->
        <div class="col-sm-5 col-md-4 col-lg-3">
          <a class="d-inline-flex align-items-center text-dark-emphasis text-decoration-none mb-4" href="index.html">
            <span class="flex-shrink-0 text-primary rtl-flip me-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="35" height="34"><path d="M34.5 16.894v10.731c0 3.506-2.869 6.375-6.375 6.375H17.5h-.85C7.725 33.575.5 26.138.5 17c0-9.35 7.65-17 17-17s17 7.544 17 16.894z" fill="currentColor"></path><g fill-rule="evenodd"><path d="M17.5 13.258c-3.101 0-5.655 2.554-5.655 5.655s2.554 5.655 5.655 5.655 5.655-2.554 5.655-5.655-2.554-5.655-5.655-5.655zm-9.433 5.655c0-5.187 4.246-9.433 9.433-9.433s9.433 4.246 9.433 9.433a9.36 9.36 0 0 1-1.569 5.192l2.397 2.397a1.89 1.89 0 0 1 0 2.671 1.89 1.89 0 0 1-2.671 0l-2.397-2.397a9.36 9.36 0 0 1-5.192 1.569c-5.187 0-9.433-4.246-9.433-9.433z" fill="#000" fill-opacity=".05"></path><g fill="#fff"><path d="M17.394 10.153c-3.723 0-6.741 3.018-6.741 6.741s3.018 6.741 6.741 6.741 6.741-3.018 6.741-6.741-3.018-6.741-6.741-6.741zM7.347 16.894A10.05 10.05 0 0 1 17.394 6.847 10.05 10.05 0 0 1 27.44 16.894 10.05 10.05 0 0 1 17.394 26.94 10.05 10.05 0 0 1 7.347 16.894z"></path><path d="M23.025 22.525c.645-.645 1.692-.645 2.337 0l3.188 3.188c.645.645.645 1.692 0 2.337s-1.692.645-2.337 0l-3.187-3.187c-.645-.646-.645-1.692 0-2.337z"></path></g></g><path d="M23.662 14.663c2.112 0 3.825-1.713 3.825-3.825s-1.713-3.825-3.825-3.825-3.825 1.713-3.825 3.825 1.713 3.825 3.825 3.825z" fill="#fff"></path><path fill-rule="evenodd" d="M23.663 8.429a2.41 2.41 0 0 0-2.408 2.408 2.41 2.41 0 0 0 2.408 2.408 2.41 2.41 0 0 0 2.408-2.408 2.41 2.41 0 0 0-2.408-2.408zm-5.242 2.408c0-2.895 2.347-5.242 5.242-5.242s5.242 2.347 5.242 5.242-2.347 5.242-5.242 5.242-5.242-2.347-5.242-5.242z" fill="currentColor"></path></svg>
            </span>
            <span class="fs-4 fw-semibold">Quincaillerie Salama</span>
          </a>
          <ul class="list-unstyled gap-3">
            <li>
              <div class="position-relative d-flex align-items-center">
                <i class="fi-mail fs-lg text-body me-2"></i>
                <a class="text-dark-emphasis text-decoration-none hover-effect-underline stretched-link" href="mailto:contact@quincailleriepro.com">contact@quincailleriepro.com</a>
              </div>
            </li>
            <li>
              <div class="position-relative d-flex align-items-center">
                <i class="fi-phone-call fs-lg text-body me-2"></i>
                <a class="text-dark-emphasis text-decoration-none hover-effect-underline stretched-link" href="tel:+33123456789">+33&nbsp;1&nbsp;23&nbsp;45&nbsp;67&nbsp;89</a>
              </div>
            </li>
            <li>
              <div class="position-relative d-flex align-items-center">
                <i class="fi-map-pin fs-lg text-body me-2"></i>
                <span class="text-dark-emphasis">123 Rue des Outils, 75000 Paris</span>
              </div>
            </li>
          </ul>
        </div>

        <!-- Colonne 1 : Catégories principales -->
        <div class="accordion-item col-sm-4 col-lg-3 border-0">
          <h6 class="accordion-header" id="categoriesHeading">
            <span class="h5 d-none d-sm-block">Nos catégories</span>
            <button type="button" class="accordion-button collapsed py-3 d-sm-none" data-bs-toggle="collapse" data-bs-target="#categories" aria-expanded="false" aria-controls="categories">Nos catégories</button>
          </h6>
          <div class="accordion-collapse collapse d-sm-block" id="categories" aria-labelledby="categoriesHeading" data-bs-parent="#footerLinks">
            <ul class="nav flex-column gap-2 pt-sm-1 pt-lg-2 pb-3 pb-sm-0 mt-n1 mb-1 mb-sm-0">
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Outillage manuel</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Outillage électrique</a>
              </li> 
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Serrurerie</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Peinture</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Plomberie</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Électricité</a>
              </li>
            </ul>
          </div>
          <hr class="d-sm-none my-0">
        </div>

        <!-- Colonne 2 : Plus de catégories -->
        <div class="accordion-item col-sm-4 col-lg-3 border-0">
          <h6 class="accordion-header" id="moreCategoriesHeading">
            <span class="h5 d-none d-sm-block">Autres catégories</span>
            <button type="button" class="accordion-button collapsed py-3 d-sm-none" data-bs-toggle="collapse" data-bs-target="#moreCategories" aria-expanded="false" aria-controls="moreCategories">Autres catégories</button>
          </h6>
          <div class="accordion-collapse collapse d-sm-block" id="moreCategories" aria-labelledby="moreCategoriesHeading" data-bs-parent="#footerLinks">
            <ul class="nav flex-column gap-2 pt-sm-1 pt-lg-2 pb-3 pb-sm-0 mt-n1 mb-1 mb-sm-0">
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Jardinage</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Matériaux de construction</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Équipement de sécurité</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Nettoyage & entretien</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Adhésifs & colles</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="?#categories">Voir toutes les catégories</a>
              </li>
            </ul>
          </div>
          <hr class="d-sm-none my-0">
        </div>

        <!-- Colonne 3 : Pages de navigation -->
        <div class="accordion-item col-sm-3 col-lg-2 col-xxl-3 border-0">
          <h6 class="accordion-header" id="navigationHeading">
            <span class="h5 d-none d-sm-block">Navigation</span>
            <button type="button" class="accordion-button collapsed py-3 d-sm-none" data-bs-toggle="collapse" data-bs-target="#navigation" aria-expanded="false" aria-controls="navigation">Navigation</button>
          </h6>
          <div class="accordion-collapse collapse d-sm-block" id="navigation" aria-labelledby="navigationHeading" data-bs-parent="#footerLinks">
            <ul class="nav flex-column gap-2 pt-sm-1 pt-lg-2 pb-3 pb-sm-0 mt-n1 mb-1 mb-sm-0">
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="index.html">Accueil</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Catalogue produits</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Promotions</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">À propos</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Contact</a>
              </li>
              <li class="pt-1">
                <a class="nav-link hover-effect-underline d-inline text-body fw-normal p-0" href="#!">Mentions légales</a>
              </li>
            </ul>
          </div>
          <hr class="d-sm-none my-0">
        </div>
      </div>

      <!-- Contact + Réseaux sociaux + Copyright -->
      <div class="border-top pt-2 pb-md-2">
          <div class="row align-items-center py-4">
              <div class="col-lg-4 text-center text-lg-start mb-3 mb-lg-0">
              <div class="h5 d-none d-sm-block mb-0">
                  <span class="text-body-secondary fw-normal me-3">Besoin d'aide ?</span>
                  <a class="text-white text-decoration-none hover-effect-underline" href="#!">Contactez-nous</a>
              </div>
              <div class="h6 d-sm-none mb-0">
                  <span class="text-body-secondary fw-normal me-2">Besoin d'aide ?</span>
                  <a class="text-white text-decoration-none hover-effect-underline" href="#!">Contactez-nous</a>
              </div>
              </div>
              <div class="col-lg-3 col-xl-4 d-flex justify-content-center mb-3 mb-lg-0">
                  <a class="btn btn-icon fs-base btn-outline-secondary border-0" href="#!" data-bs-toggle="tooltip" data-bs-template="<div class=&quot;tooltip fs-xs mb-n2&quot; role=&quot;tooltip&quot;><div class=&quot;tooltip-inner bg-transparent text-white opacity-75 p-0&quot;></div></div>" title="Instagram" aria-label="Suivez-nous sur Instagram">
                      <i class="fi-instagram"></i>
                  </a>
                  <a class="btn btn-icon fs-base btn-outline-secondary border-0" href="#!" data-bs-toggle="tooltip" data-bs-template="<div class=&quot;tooltip fs-xs mb-n2&quot; role=&quot;tooltip&quot;><div class=&quot;tooltip-inner bg-transparent text-white opacity-75 p-0&quot;></div></div>" title="Facebook" aria-label="Suivez-nous sur Facebook">
                      <i class="fi-facebook"></i>
                  </a>
                  <a class="btn btn-icon fs-base btn-outline-secondary border-0" href="#!" data-bs-toggle="tooltip" data-bs-template="<div class=&quot;tooltip fs-xs mb-n2&quot; role=&quot;tooltip&quot;><div class=&quot;tooltip-inner bg-transparent text-white opacity-75 p-0&quot;></div></div>" title="X (Twitter)" aria-label="Suivez-nous sur X (Twitter)">
                      <i class="fi-x"></i>
                  </a>
                  <a class="btn btn-icon fs-base btn-outline-secondary border-0" href="#!" data-bs-toggle="tooltip" data-bs-template="<div class=&quot;tooltip fs-xs mb-n2&quot; role=&quot;tooltip&quot;><div class=&quot;tooltip-inner bg-transparent text-white opacity-75 p-0&quot;></div></div>" title="LinkedIn" aria-label="Suivez-nous sur LinkedIn">
                      <i class="fi-linkedin"></i>
                  </a>
              </div>
              <div class="col-lg-5 col-xl-4 d-lg-flex justify-content-end">
                  <p class="text-body-secondary fs-sm text-center text-lg-start mb-0">© Tous droits réservés. Site réalisé par <a class="text-body fw-medium text-decoration-none hover-effect-underline" href="https://createx.studio/" target="_blank" rel="noreferrer">Irenee kinz</a></p>
              </div>
          </div>
      </div>
    </div>

    <!-- Espacement supplémentaire pour le bouton collant hors-canvas -->
    <div class="d-lg-none" style="height: 3.75rem"></div>
  </footer>

  
  <!-- Back to top button -->
  <div class="floating-buttons position-fixed top-50 end-0 z-sticky me-3 me-xl-4 pb-4">
    <a class="btn-scroll-top btn btn-sm bg-body border-0 rounded-pill shadow animate-slide-end" href="#top">
      Top
      <i class="fi-arrow-right fs-base ms-1 me-n1 animate-target"></i>
      <span class="position-absolute top-0 start-0 w-100 h-100 border rounded-pill z-0"></span>
      <svg class="position-absolute top-0 start-0 w-100 h-100 z-1" viewBox="0 0 62 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x=".75" y=".75" width="60.5" height="30.5" rx="15.25" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10"></rect>
      </svg>
    </a> 
  </div>


  <!-- Vendor scripts -->
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/choices.js/choices.min.js"></script>
  <script src="assets/vendor/cleave.js/cleave.min.js"></script>
  
  <!-- Bootstrap + Theme scripts -->
  <script src="assets/js/theme.min.js"></script>

  <style>
  /* Styles pour le formulaire */
  .password-toggle .form-control {
    padding-right: 50px;
  }

  .password-toggle .btn-link {
    padding: 0 15px;
    background: none;
    border: none;
  }

  .password-toggle .btn-link:hover {
    color: #0d6efd !important;
  }

  /* Style pour les boutons radio */
  .form-check-input:checked {
    background-color: #0d6efd;
    border-color: #0d6efd;
  }

  /* Ajustement pour la photo */
  #photo-preview {
    transition: transform 0.3s ease;
  }

  #photo-preview:hover {
    transform: scale(1.05);
  }

  /* Validation */
  .was-validated .form-control:invalid,
  .was-validated .form-control:valid {
    border-width: 2px;
  }

  .was-validated .form-control:valid {
    border-color: #198754;
  }

  .was-validated .form-control:invalid {
    border-color: #dc3545;
  }
  </style>

  <style>
  /* Styles personnalisés pour le modal */
  #authRequired .modal-content {
    border-radius: 16px;
  }

  #authRequired .bg-primary.bg-opacity-10 {
    animation: gentlePulse 2s infinite;
  }

  @keyframes gentlePulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }

  #authRequired .btn-primary {
    background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%);
    border: none;
    transition: all 0.3s ease;
  }

  #authRequired .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(13, 110, 253, 0.3);
  }

  #authRequired .btn-outline-primary:hover {
    background-color: #0d6efd;
    color: white;
  }

  #authRequired .text-body-secondary {
    line-height: 1.6;
  }
  </style>



  
  <!-- Modal pour connexion obligatoire -->
  <div class="modal fade" id="authRequired" data-bs-backdrop="static" tabindex="-1" aria-labelledby="authRequiredLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content border-0 shadow">
        <!-- En-tête du modal -->
        <div class="modal-header border-bottom-0 pb-0">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        
        <!-- Corps du modal -->
        <div class="modal-body text-center py-4 px-5">
          <!-- Icône d'information -->
          <div class="mb-4">
            <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary bg-opacity-10" style="width: 80px; height: 80px;">
              <i class="fi-lock text-primary fs-1"></i>
            </div>
          </div>
          
          <!-- Titre principal -->
          <h3 class="h4 mb-3" id="authRequiredLabel">Connexion requise</h3>
          
          <!-- Message d'information -->
          <p class="text-body-secondary mb-4">
            Pour ajouter ce produit à votre panier et passer commande, 
            vous devez avoir un compte et être connecté.
          </p>
          
          <!-- Points importants -->
          <div class="text-start bg-light rounded p-3 mb-4">
            <div class="d-flex align-items-center mb-2">
              <i class="fi-check-circle text-success me-2"></i>
              <span class="small">Accédez à votre historique de commandes</span>
            </div>
            <div class="d-flex align-items-center mb-2">
              <i class="fi-check-circle text-success me-2"></i>
              <span class="small">Suivez vos achats en temps réel</span>
            </div>
            <div class="d-flex align-items-center">
              <i class="fi-check-circle text-success me-2"></i>
              <span class="small">Bénéficiez de promotions exclusives</span>
            </div>
          </div>
          
          <!-- Boutons d'action -->
          <div class="d-grid gap-3 mb-4">
            <!-- Bouton Connexion -->
            <button type="button" class="btn btn-primary btn-lg d-flex align-items-center justify-content-center gap-2" 
                    onclick="redirectToLogin()">
              <i class="fi-login"></i>
              <span>Se connecter à mon compte</span>
            </button>
            
            <!-- Bouton Création de compte -->
            <button onclick="showModalById('createAccount','authRequired')" class="btn btn-outline-primary btn-lg d-flex align-items-center justify-content-center gap-2">
              <i class="fi-user-plus"></i>
              <span>Créer un compte gratuit</span>
            </button>
          </div>
          
          <!-- Lien pour continuer sans compte (optionnel) -->
          <div class="mt-3">
            <button type="button" class="btn btn-link text-decoration-none" data-bs-dismiss="modal">
              <i class="fi-arrow-right me-1"></i>
              Continuer la navigation
            </button>
          </div>
        </div>
        
        <!-- Footer informatif -->
        <div class="modal-footer border-top-0 pt-0 justify-content-center">
          <p class="small text-body-secondary mb-0">
            <i class="fi-shield-check text-success me-1"></i>
            Vos données sont sécurisées et confidentielles
          </p>
        </div>
      </div>
    </div>
  </div>
  <!--// Modal pour connexion obligatoire -->



<!-- MODAL POUR LE LOGIN -->
 <!-- Modal de connexion client -->
<div class="modal fade" id="loginClientModal" data-bs-backdrop="static" tabindex="-1" aria-labelledby="loginClientModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 450px;" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="loginClientModalLabel">Connexion à votre compte</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
      </div>
      
      <div class="modal-body p-4">
        <div id="server-message" class="mb-4" style="display: none;">
          <div class="alert alert-dismissible fade show" role="alert">
            <span id="message-text"></span>
            <button type="button" class="btn-close" onclick="hideMessage()"></button>
          </div>
        </div>

        <form class="needs-validation" name="loginUserForm" validate onsubmit="return false">
          
          <div class="mb-4">
            <label for="email" class="form-label">Adresse email</label>
            <div class="position-relative">
              <input type="email" name="email" class="form-control" id="email" placeholder="votre@email.com" required>
              <div class="invalid-feedback">Veuillez saisir une adresse email valide</div>
            </div>
          </div>

          <div class="mb-4">
            <label for="password" class="form-label">Mot de passe</label>
            <div class="password-toggle position-relative">
              <input type="password" name="password" class="form-control" id="password" placeholder="Votre mot de passe" required>
              <button type="button" class="btn btn-link position-absolute top-50 end-0 translate-middle-y text-decoration-none text-secondary" onclick="togglePassword()">
                <i class="bi bi-eye"></i>
              </button>
              <div class="invalid-feedback">Veuillez saisir votre mot de passe</div>
            </div>
          </div>

          <div class="d-flex align-items-center justify-content-between mb-4">
            <div class="form-check">
              <input type="checkbox" name="remember" class="form-check-input" id="remember-me">
              <label for="remember-me" class="form-check-label">Se souvenir de moi</label>
            </div>
            <a href="#" class="text-decoration-none">Mot de passe oublié ?</a>
          </div>

          <button type="submit" class="btn btn-primary w-100 py-3" id="submit-btn" onclick="loginUser()">
            <div class="dot-spinner d-none" id="loading-spinner">
              <div class="dot-spinner__dot"></div>
              <div class="dot-spinner__dot"></div>
              <div class="dot-spinner__dot"></div>
              <div class="dot-spinner__dot"></div>
              <div class="dot-spinner__dot"></div>
              <div class="dot-spinner__dot"></div>
              <div class="dot-spinner__dot"></div>
              <div class="dot-spinner__dot"></div>
            </div>
            <span id="submit-text">Se connecter</span>
          </button>

        </form>

        <div class="text-center mt-4 pt-3 border-top">
          <p class="text-body-secondary mb-2">Vous n'avez pas encore de compte ?</p>
          <button type="button" class="btn btn-outline-primary" onclick="switchToRegister()">
            Créer un compte gratuitement
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
 <!-- //////////////////////// -->

  <!-- Modal pour création de compte -->
  <div class="modal fade" id="createAccount" data-bs-backdrop="static" tabindex="-1" aria-labelledby="createAccountLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="createAccountLabel">Créer un compte</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        
        <div class="modal-body">
          <!-- Message du serveur -->
          
          <div id="server-message-create" class="mb-4" style="display: none;">
              <div class="alert create alert-dismissible fade show" role="alert">
                  <span id="message-text-create"></span>
                  <button type="button" class="btn-close" onclick="generalHideMessage('server-message-create')"></button>
              </div>
          </div>
          
          <form id="createAccountForm" name="createAccountForm" class="needs-validation" validate onsubmit="return false">
            <div class="row g-4">
              <!-- Photo de profil -->
              <div class="col-md-4">
                <div class="text-center">
                  <div class="position-relative d-inline-block mb-3">
                    <img id="photo-preview" src="https://via.placeholder.com/150x150?text=Photo" 
                        alt="Photo de profil" 
                        class="rounded-circle border" 
                        style="width: 150px; height: 150px; object-fit: cover;">
                    <label for="photo" class="btn btn-sm btn-primary position-absolute bottom-0 end-0 rounded-circle" 
                          style="width: 40px; height: 40px;">
                      <i class="fi-camera"></i>
                    </label>
                  </div>
                  <input type="file" 
                        name="photo" 
                        id="photo" 
                        class="d-none" 
                        accept="image/*" 
                        onchange="previewPhoto(event)">
                  <div class="form-text">Cliquez sur l'icône pour ajouter une photo</div>
                  <div class="invalid-feedback">Veuillez sélectionner une photo.</div>
                </div>
              </div>
              
              <!-- Informations personnelles -->
              <div class="col-md-8">
                <div class="vstack gap-3">
                  <!-- Nom et Prénom -->
                  <div class="row g-3">
                    <div class="col-md-6 position-relative">
                      <label for="nom" class="form-label">Nom *</label>
                      <input type="text" 
                            name="nom" 
                            class="form-control" 
                            id="nom" 
                            placeholder="Votre nom" 
                            required>
                      <div class="invalid-feedback">Veuillez saisir votre nom.</div>
                    </div>
                    <div class="col-md-6 position-relative">
                      <label for="prenom" class="form-label">Prénom *</label>
                      <input type="text" 
                            name="prenom" 
                            class="form-control" 
                            id="prenom" 
                            placeholder="Votre prénom" 
                            required>
                      <div class="invalid-feedback">Veuillez saisir votre prénom.</div>
                    </div>
                  </div>
                  
                  <!-- Email -->
                  <div class="position-relative">
                    <label for="email" class="form-label">Adresse email *</label>
                    <input type="email" 
                          name="email" 
                          class="form-control" 
                          id="email" 
                          placeholder="votre@email.com" 
                          required>
                    <div class="invalid-feedback">Veuillez saisir une adresse email valide.</div>
                  </div>
                </div>
              </div>

            <div class="col-12">
              <div class="row g-4">
                <!-- Mot de passe -->
                <div class="col-md-6 position-relative">
                  <label for="password" class="form-label">Mot de passe *</label>
                  <div class="password-toggle">
                    <input type="password" 
                          name="password" 
                          class="form-control" 
                          id="password" 
                          placeholder="Votre mot de passe" 
                          required
                          minlength="6">
                    <button type="button" class="btn btn-link position-absolute top-50 end-0 translate-middle-y text-decoration-none text-secondary" 
                            onclick="togglePassword('password')">
                      <i class="fi-eye"></i>
                    </button>
                  </div>
                  <div class="invalid-feedback">Le mot de passe doit contenir au moins 6 caractères.</div>
                  <div class="form-text">Minimum 6 caractères</div>
                </div>
                
                <!-- Confirmation mot de passe -->
                <div class="col-md-6 position-relative">
                  <label for="confirm_password" class="form-label">Confirmer le mot de passe *</label>
                  <div class="password-toggle">
                    <input type="password" 
                          name="password2" 
                          class="form-control" 
                          id="confirm_password" 
                          placeholder="Confirmez votre mot de passe" 
                          required>
                    <button type="button" class="btn btn-link position-absolute top-50 end-0 translate-middle-y text-decoration-none text-secondary" 
                            onclick="togglePassword('confirm_password')">
                      <i class="fi-eye"></i>
                    </button>
                  </div>
                  <div class="invalid-feedback">Les mots de passe ne correspondent pas.</div>
                </div>
              </div>
            </div>
              
              <!-- Deuxième ligne : Genre et Adresse -->
              <div class="col-12">
                <div class="row g-4"> 
                  
                  <!-- Adresse -->
                  <div class="col-md-8 position-relative">
                    <label for="adresse" class="form-label">Adresse *</label>
                    <textarea name="adresse" 
                              class="form-control" 
                              id="adresse" 
                              rows="2" 
                              placeholder="Votre adresse complète" 
                              required></textarea>
                    <div class="invalid-feedback">Veuillez saisir votre adresse.</div>
                    <div class="form-text">Rue, numéro, code postal, ville</div>
                  </div>

                  <!-- Genre -->
                  <div class="col-md-4 position-relative">
                    <label class="form-label">Genre *</label>
                    <div class="d-flex gap-3">
                      <div class="form-check">
                        <input class="form-check-input" 
                              type="radio" 
                              name="genre" 
                              id="genre_homme" 
                              value="homme" 
                              required>
                        <label class="form-check-label" for="genre_homme">
                          <i class="fi-user me-1"></i> Homme
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" 
                              type="radio" 
                              name="genre" 
                              id="genre_femme" 
                              value="femme" 
                              required>
                        <label class="form-check-label" for="genre_femme">
                          <i class="fi-user me-1"></i> Femme
                        </label>
                      </div>
                    </div>
                    <div class="invalid-feedback">Veuillez sélectionner votre genre.</div>
                  </div>

                </div>
              </div> 
            </div>
            
            <!-- Boutons d'action -->
            <div class="modal-footer border-top-0 pt-4">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
              <button type="submit" class="btn btn-primary" id="submit-btn" onclick="createAccount()">
                <div class="dot-spinner d-none" id="loading-spinner">
                    <div class="dot-spinner__dot"></div>
                    <div class="dot-spinner__dot"></div>
                    <div class="dot-spinner__dot"></div>
                    <div class="dot-spinner__dot"></div>
                    <div class="dot-spinner__dot"></div>
                    <div class="dot-spinner__dot"></div>
                    <div class="dot-spinner__dot"></div>
                    <div class="dot-spinner__dot"></div>
                </div><i class="fi-user-plus me-2"></i>
                <span id="submit-text">Créer le compte</span>
              </button>
            </div>
          </form>
          
          <!-- Déjà un compte ? -->
          <div class="text-center mt-3">
            <p class="mb-0 small text-body-secondary">
              Vous avez déjà un compte ? 
              <a href="#" class="text-decoration-none" onclick="switchToLogin()">Se connecter</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
      // Fonction pour prévisualiser la photo
      function previewPhoto(event) {
        const input = event.target;
        const preview = document.getElementById('photo-preview');
        
        if (input.files && input.files[0]) {
          const reader = new FileReader();
          
          reader.onload = function(e) {
            preview.src = e.target.result;
          };
          
          reader.readAsDataURL(input.files[0]);
        }
      }
      
      // Fonction pour basculer vers la connexion
      function switchToLogin() {
        // Fermer ce modal
        const createModal = bootstrap.Modal.getInstance(document.getElementById('createAccount'));
        if (createModal) createModal.hide();
        
        // Ouvrir le modal de connexion (supposé existant)
        const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
        loginModal.show();
      }
    
      const modal = document.getElementById('createAccount');
      modal.addEventListener('show.bs.modal', function() {
          form.reset();
          form.classList.remove('was-validated');
          document.getElementById('photo-preview').src = 'https://via.placeholder.com/150x150?text=Photo';
          document.getElementById('server-message-create').classList.add('d-none');
        })
      
      /////////////////////////////////////////////////////////////////////////// -->
    
      // Fonction pour rediriger vers la page de connexion
      function redirectToLogin() {
        // Fermer le modal
        const modal = bootstrap.Modal.getInstance(document.getElementById('authRequired'));
        if (modal) modal.hide();
        
        // Rediriger vers la page de connexion
        // Vous pouvez ajouter un paramètre pour revenir à la page actuelle
        const currentPage = encodeURIComponent(window.location.href);
        window.location.href = `connexion.php?redirect=${currentPage}`;
      }
      
      /**
     * Affiche un modal Bootstrap 5 par son ID
     * @param {string} modalId - L'ID du modal à afficher
     */
      function showModalById(modalId,hide_modal_id=null) { 
        if(hide_modal_id) hideModalSimple(hide_modal_id)

          // Récupérer l'élément modal
          const modalElement = document.getElementById(modalId);
          
          if (!modalElement) {
              console.error(`Modal avec l'ID "${modalId}" non trouvé.`);
              return false;
          }
          
          // Vérifier si Bootstrap est disponible
          if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {
              // Créer une instance du modal ou récupérer l'existante
              let modal = bootstrap.Modal.getInstance(modalElement);
              
              if (!modal) {
                  // Créer une nouvelle instance
                  modal = new bootstrap.Modal(modalElement);
              }
              
              // Afficher le modal
              modal.show();
              return true;
          } else {
              console.error('Bootstrap 5 n\'est pas chargé.');
              return false;
          }
      }
        
      // Version simplifiée (sans Bootstrap)
      function hideModalSimple(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                modal.classList.remove('show');
                modal.setAttribute('aria-hidden', 'true');
                
                // Gérer le body
                document.body.classList.remove('modal-open');
                document.body.style.overflow = 'auto';
                document.body.style.paddingRight = '0';
                
                // Supprimer le backdrop
                const backdrops = document.getElementsByClassName('modal-backdrop');
                while (backdrops.length > 0) {
                    backdrops[0].parentNode.removeChild(backdrops[0]);
                }
            }
        }
 
      function generalHideMessage(server_message = "server-message") {
        document.getElementById(server_message).style.display = 'none';
      }

      // Fonction pour afficher les messages du serveur
      function generalShowMessage(message, type = 'info',
        messageDiv_="server-message",
        messageText_="message-text",
        alertDiv_=".alert") 
      {
        const messageDiv = document.getElementById(messageDiv_);
        const messageText = document.getElementById(messageText_);
        const alertDiv = messageDiv.querySelector(alertDiv_);
        
        // Définir le type d'alerte (couleur)
        const alertTypes = {
          'success': 'alert-success',
          'error': 'alert-danger',
          'warning': 'alert-warning',
          'info': 'alert-info'
        };
        
        // Retirer toutes les classes d'alerte
        alertDiv.classList.remove('alert-success', 'alert-danger', 'alert-warning', 'alert-info');
        // Ajouter la classe correspondante au type
        alertDiv.classList.add(alertTypes[type] || 'alert-info');
        
        // Mettre à jour le texte et afficher
        messageText.textContent = message;
        messageDiv.style.display = 'block';
        
        // Masquer automatiquement après 10 secondes (optionnel)
        setTimeout(()=>{
          generalHideMessage('server-message-create')
        }, 5000);
      }
  
      showModalById("loginClientModal")    
  </script>

 
  
    <script>

    let url_account = "../app/index.php?action=client/create"; 
    
    // Fonction principale de connexion
    function createAccount() {
      let form = document.forms.createAccountForm;
      let submit_btn = document.getElementById("submit-btn");
      let submit_text = document.getElementById("submit-text");
      let loading_spinner = document.getElementById("loading-spinner");
      
      // Validation du formulaire
      if (!form.checkValidity()) {
          form.classList.add('was-validated');
          return false;
      }

      
      let password2 = document.querySelector("input[name='password2']").value;
      let password = document.querySelector("input[name='password']").value;
      
      if(password2 !== password) { 
          generalShowMessage(
             "Les deux mots de passe doivent etre identiques", type = 'error',
              messageDiv="server-message-create",
              messageText="message-text-create",
              alertDiv=".alert.create"
          )
          return
      }
          
      // Désactiver le bouton et afficher le spinner
      submit_btn.disabled = true;
      submit_text.textContent = "Creation en cours...";
      loading_spinner.classList.remove("d-none");
      
      // Préparation des données à envoyer
      let formData = new FormData(form);  
      formData.append("role","admin");


      // Options pour la requête fetch
      const options = {  
          method: 'POST',  
          body: formData  
          // Si votre API attend du JSON, utilisez ceci :
          // headers: { 'Content-Type': 'application/json' },
          // body: JSON.stringify({ email: email, password: password }) 
      };
      
      // Envoi de la requête AJAX
      fetch(url_account, options)
          .then(response => {
          // Vérifier le statut HTTP
          if (!response.ok) {
              throw new Error(`Erreur HTTP: ${response.status}`);
          }
          return response.json();
          })
          .then(data => {
          // Traitement de la réponse
          console.log("Réponse du serveur:", data);
          
          if (data.success) {
          
              setTimeout(()=>{ 
                  window.location.href = window.location.href;
              },4000);

              // Connexion réussie 
              generalShowMessage(
                  data.message || "Creation réussie !", type = 'success',
                  messageDiv="server-message-create",
                  messageText="message-text-create",
                  alertDiv=".alert.create"
              )

              loading_spinner.classList.add("d-none");
              submit_text.textContent = "Créer le compte";
              submit_btn.disabled = false;
              form.reset();
              
          } 
          else {
              // Erreur de connexion
              generalShowMessage(
                  data.message || "Creation echouee !", type = 'error',
                  messageDiv="server-message-create",
                  messageText="message-text-create",
                  alertDiv=".alert.create"
              )

              // Réactiver le bouton
              submit_btn.disabled = false;
              submit_text.textContent = "Créer le compte";
              loading_spinner.classList.add("d-none");
          }
          })
          .catch(error => {
          // Erreur réseau ou autre 
          generalShowMessage(
              "Erreur de connexion au serveur. Veuillez réessayer.",
               type = 'error',
              messageDiv="server-message-create",
              messageText="message-text-create",
              alertDiv=".alert.create"
          )
              

          // Réactiver le bouton
          submit_btn.disabled = false;
          submit_text.textContent = "Créer le compte";
          loading_spinner.classList.add("d-none");
          }); 
    }
    
    function ajoutAuPanier(produit_id) { 
      let is_connected = <?= $_IS_CONNECTED ?>; 
      if(is_connected == 0) {
        showModalById("authRequired");
      }
    }

    </script>